using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using System;
using System.IO;

public class TextDistribution : MonoBehaviour
{
    public GameObject hana;
    public GameObject amenimo;

    public Text Page1TargetText;
    public Text Page2TargetText;
    public Text Page3TargetText;
    public Text Page4TargetText;
    public Text Page5TargetText;
    public Text Page6TargetText;
    public Text Page7TargetText;
    public Text Page8TargetText;
    public Text Page9TargetText;
    public Text Page10TargetText;
    public Text Page11TargetText;
    public Text Page12TargetText;
    public Text Page13TargetText;
    public Text Page14TargetText;
    public Text Page15TargetText;
    public Text Page16TargetText;
    public Text Page17TargetText;
    public Text Page18TargetText;
    public Text Page19TargetText;
    public Text Page20TargetText;
    public Text Page21TargetText;
    public Text Page22TargetText;
    public Text Page23TargetText;
    public Text Page24TargetText;
    public Text Page25TargetText;
    public Text Page26TargetText;
    public Text Page27TargetText;
    public Text Page28TargetText;
    public Text Page29TargetText;
    public Text Page30TargetText;
    public Text Page31TargetText;
    public Text Page32TargetText;
    public Text Page33TargetText;
    public Text Page34TargetText;
    public Text Page35TargetText;
    public Text Page36TargetText;
    public Text Page37TargetText;
    public Text Page38TargetText;
    public Text Page39TargetText;
    public Text Page40TargetText;
    public Text Page41TargetText;
    public Text Page42TargetText;
    public Text Page43TargetText;
    public Text Page44TargetText;
    public Text Page45TargetText;
    public Text Page46TargetText;
    public Text Page47TargetText;
    public Text Page48TargetText;
    public Text Page49TargetText;
    public Text Page50TargetText;
    public Text Page51TargetText;
    public Text Page52TargetText;
    public Text Page53TargetText;
    public Text Page54TargetText;
    public Text Page55TargetText;
    public Text Page56TargetText;
    public Text Page57TargetText;
    public Text Page58TargetText;
    public Text Page59TargetText;
    public Text Page60TargetText;

    int NumberTextSorte = 0;
    public static string[] bookData = new string[2] {"禅智内供ぜんちないぐの鼻と云えば、池いけの尾おで知らない者はない。長さは五六寸あって上唇うわくちびるの上から顋あごの下まで下っている。形は元も先も同じように太い。云わば細長い腸詰ちょうづめのような物が、ぶらりと顔のまん中からぶら下っているのである。五十歳を越えた内供は、沙弥しゃみの昔から、内道場供奉ないどうじょうぐぶの職に陞のぼった今日こんにちまで、内心では始終この鼻を苦に病んで来た。勿論表面では、今でもさほど気にならないような顔をしてすましている。これは専念に当来とうらいの浄土じょうどを渇仰かつぎょうすべき僧侶そうりょの身で、鼻の心配をするのが悪いと思ったからばかりではない。それよりむしろ、自分で鼻を気にしていると云う事を、人に知られるのが嫌だったからである。内供は日常の談話の中に、鼻と云う語が出て来るのを何よりも惧おそれていた。内供が鼻を持てあました理由は二つある。――一つは実際的に、鼻の長いのが不便だったからである。第一飯を食う時にも独りでは食えない。独りで食えば、鼻の先が鋺かなまりの中の飯へとどいてしまう。そこで内供は弟子の一人を膳の向うへ坐らせて、飯を食う間中、広さ一寸長さ二尺ばかりの板で、鼻を持上げていて貰う事にした。しかしこうして飯を食うと云う事は、持上げている弟子にとっても、持上げられている内供にとっても、決して容易な事ではない。一度この弟子の代りをした中童子ちゅうどうじが、嚏くさめをした拍子に手がふるえて、鼻を粥かゆの中へ落した話は、当時京都まで喧伝けんでんされた。――けれどもこれは内供にとって、決して鼻を苦に病んだ重おもな理由ではない。内供は実にこの鼻によって傷つけられる自尊心のために苦しんだのである。池の尾の町の者は、こう云う鼻をしている禅智内供のために、内供の俗でない事を仕合せだと云った。あの鼻では誰も妻になる女があるまいと思ったからである。中にはまた、あの鼻だから出家しゅっけしたのだろうと批評する者さえあった。しかし内供は、自分が僧であるために、幾分でもこの鼻に煩わずらわされる事が少くなったと思っていない。内供の自尊心は、妻帯と云うような結果的な事実に左右されるためには、余りにデリケイトに出来ていたのである。そこで内供は、積極的にも消極的にも、この自尊心の毀損きそんを恢復かいふくしようと試みた。第一に内供の考えたのは、この長い鼻を実際以上に短く見せる方法である。これは人のいない時に、鏡へ向って、いろいろな角度から顔を映しながら、熱心に工夫くふうを凝こらして見た。どうかすると、顔の位置を換えるだけでは、安心が出来なくなって、頬杖ほおづえをついたり頤あごの先へ指をあてがったりして、根気よく鏡を覗いて見る事もあった。しかし自分でも満足するほど、鼻が短く見えた事は、これまでにただの一度もない。時によると、苦心すればするほど、かえって長く見えるような気さえした。内供は、こう云う時には、鏡を箱へしまいながら、今更のようにため息をついて、不承不承にまた元の経机きょうづくえへ、観音経かんのんぎょうをよみに帰るのである。それからまた内供は、絶えず人の鼻を気にしていた。池の尾の寺は、僧供講説そうぐこうせつなどのしばしば行われる寺である。寺の内には、僧坊が隙なく建て続いて、湯屋では寺の僧が日毎に湯を沸かしている。従ってここへ出入する僧俗の類たぐいも甚だ多い。内供はこう云う人々の顔を根気よく物色した。一人でも自分のような鼻のある人間を見つけて、安心がしたかったからである。だから内供の眼には、紺の水干すいかんも白の帷子かたびらもはいらない。まして柑子色こうじいろの帽子や、椎鈍しいにびの法衣ころもなぞは、見慣れているだけに、有れども無きが如くである。内供は人を見ずに、ただ、鼻を見た。――しかし鍵鼻かぎばなはあっても、内供のような鼻は一つも見当らない。その見当らない事が度重なるに従って、内供の心は次第にまた不快になった。内供が人と話しながら、思わずぶらりと下っている鼻の先をつまんで見て、年甲斐としがいもなく顔を赤らめたのは、全くこの不快に動かされての所為しょいである。最後に、内供は、内典外典ないてんげてんの中に、自分と同じような鼻のある人物を見出して、せめても幾分の心やりにしようとさえ思った事がある。けれども、目連もくれんや、舎利弗しゃりほつの鼻が長かったとは、どの経文にも書いてない。勿論竜樹りゅうじゅや馬鳴めみょうも、人並の鼻を備えた菩薩ぼさつである。内供は、震旦しんたんの話の序ついでに蜀漢しょくかんの劉玄徳りゅうげんとくの耳が長かったと云う事を聞いた時に、それが鼻だったら、どのくらい自分は心細くなくなるだろうと思った。内供がこう云う消極的な苦心をしながらも、一方ではまた、積極的に鼻の短くなる方法を試みた事は、わざわざここに云うまでもない。内供はこの方面でもほとんど出来るだけの事をした。烏瓜からすうりを煎せんじて飲んで見た事もある。鼠の尿いばりを鼻へなすって見た事もある。しかし何をどうしても、鼻は依然として、五六寸の長さをぶらりと唇の上にぶら下げているではないか。所がある年の秋、内供の用を兼ねて、京へ上った弟子でしの僧が、知己しるべの医者から長い鼻を短くする法を教わって来た。その医者と云うのは、もと震旦しんたんから渡って来た男で、当時は長楽寺ちょうらくじの供僧ぐそうになっていたのである。内供は、いつものように、鼻などは気にかけないと云う風をして、わざとその法もすぐにやって見ようとは云わずにいた。そうして一方では、気軽な口調で、食事の度毎に、弟子の手数をかけるのが、心苦しいと云うような事を云った。内心では勿論弟子の僧が、自分を説伏ときふせて、この法を試みさせるのを待っていたのである。弟子の僧にも、内供のこの策略がわからない筈はない。しかしそれに対する反感よりは、内供のそう云う策略をとる心もちの方が、より強くこの弟子の僧の同情を動かしたのであろう。弟子の僧は、内供の予期通り、口を極めて、この法を試みる事を勧め出した。そうして、内供自身もまた、その予期通り、結局この熱心な勧告に聴従ちょうじゅうする事になった。その法と云うのは、ただ、湯で鼻を茹ゆでて、その鼻を人に踏ませると云う、極めて簡単なものであった。湯は寺の湯屋で、毎日沸かしている。そこで弟子の僧は、指も入れられないような熱い湯を、すぐに提ひさげに入れて、湯屋から汲んで来た。しかしじかにこの提へ鼻を入れるとなると、湯気に吹かれて顔を火傷やけどする惧おそれがある。そこで折敷おしきへ穴をあけて、それを提の蓋ふたにして、その穴から鼻を湯の中へ入れる事にした。鼻だけはこの熱い湯の中へ浸ひたしても、少しも熱くないのである。しばらくすると弟子の僧が云った。――もう茹ゆだった時分でござろう。内供は苦笑した。これだけ聞いたのでは、誰も鼻の話とは気がつかないだろうと思ったからである。鼻は熱湯に蒸むされて、蚤のみの食ったようにむず痒がゆい。弟子の僧は、内供が折敷の穴から鼻をぬくと、そのまだ湯気の立っている鼻を、両足に力を入れながら、踏みはじめた。内供は横になって、鼻を床板の上へのばしながら、弟子の僧の足が上下うえしたに動くのを眼の前に見ているのである。弟子の僧は、時々気の毒そうな顔をして、内供の禿はげ頭を見下しながら、こんな事を云った。――痛うはござらぬかな。医師は責せめて踏めと申したで。じゃが、痛うはござらぬかな。内供は首を振って、痛くないと云う意味を示そうとした。所が鼻を踏まれているので思うように首が動かない。そこで、上眼うわめを使って、弟子の僧の足に皹あかぎれのきれているのを眺めながら、腹を立てたような声で、――痛うはないて。と答えた。実際鼻はむず痒い所を踏まれるので、痛いよりもかえって気もちのいいくらいだったのである。しばらく踏んでいると、やがて、粟粒あわつぶのようなものが、鼻へ出来はじめた。云わば毛をむしった小鳥をそっくり丸炙まるやきにしたような形である。弟子の僧はこれを見ると、足を止めて独り言のようにこう云った。――これを鑷子けぬきでぬけと申す事でござった。内供は、不足らしく頬をふくらせて、黙って弟子の僧のするなりに任せて置いた。勿論弟子の僧の親切がわからない訳ではない。それは分っても、自分の鼻をまるで物品のように取扱うのが、不愉快に思われたからである。内供は、信用しない医者の手術をうける患者のような顔をして、不承不承に弟子の僧が、鼻の毛穴から鑷子けぬきで脂あぶらをとるのを眺めていた。脂は、鳥の羽の茎くきのような形をして、四分ばかりの長さにぬけるのである。やがてこれが一通りすむと、弟子の僧は、ほっと一息ついたような顔をして、――もう一度、これを茹でればようござる。と云った。内供はやはり、八の字をよせたまま不服らしい顔をして、弟子の僧の云うなりになっていた。さて二度目に茹でた鼻を出して見ると、成程、いつになく短くなっている。これではあたりまえの鍵鼻と大した変りはない。内供はその短くなった鼻を撫なでながら、弟子の僧の出してくれる鏡を、極きまりが悪るそうにおずおず覗のぞいて見た。鼻は――あの顋あごの下まで下っていた鼻は、ほとんど嘘のように萎縮して、今は僅わずかに上唇の上で意気地なく残喘ざんぜんを保っている。所々まだらに赤くなっているのは、恐らく踏まれた時の痕あとであろう。こうなれば、もう誰も哂わらうものはないにちがいない。――鏡の中にある内供の顔は、鏡の外にある内供の顔を見て、満足そうに眼をしばたたいた。しかし、その日はまだ一日、鼻がまた長くなりはしないかと云う不安があった。そこで内供は誦経ずぎょうする時にも、食事をする時にも、暇さえあれば手を出して、そっと鼻の先にさわって見た。が、鼻は行儀ぎょうぎよく唇の上に納まっているだけで、格別それより下へぶら下って来る景色もない。それから一晩寝てあくる日早く眼がさめると内供はまず、第一に、自分の鼻を撫でて見た。鼻は依然として短い。内供はそこで、幾年にもなく、法華経ほけきょう書写の功を積んだ時のような、のびのびした気分になった。所が二三日たつ中に、内供は意外な事実を発見した。それは折から、用事があって、池の尾の寺を訪れた侍さむらいが、前よりも一層可笑おかしそうな顔をして、話も碌々ろくろくせずに、じろじろ内供の鼻ばかり眺めていた事である。それのみならず、かつて、内供の鼻を粥かゆの中へ落した事のある中童子ちゅうどうじなぞは、講堂の外で内供と行きちがった時に、始めは、下を向いて可笑おかしさをこらえていたが、とうとうこらえ兼ねたと見えて、一度にふっと吹き出してしまった。用を云いつかった下法師しもほうしたちが、面と向っている間だけは、慎つつしんで聞いていても、内供が後うしろさえ向けば、すぐにくすくす笑い出したのは、一度や二度の事ではない。内供ははじめ、これを自分の顔がわりがしたせいだと解釈した。しかしどうもこの解釈だけでは十分に説明がつかないようである。――勿論、中童子や下法師が哂わらう原因は、そこにあるのにちがいない。けれども同じ哂うにしても、鼻の長かった昔とは、哂うのにどことなく容子ようすがちがう。見慣れた長い鼻より、見慣れない短い鼻の方が滑稽こっけいに見えると云えば、それまでである。が、そこにはまだ何かあるらしい。――前にはあのようにつけつけとは哂わなんだて。内供は、誦ずしかけた経文をやめて、禿はげ頭を傾けながら、時々こう呟つぶやく事があった。愛すべき内供は、そう云う時になると、必ずぼんやり、傍かたわらにかけた普賢ふげんの画像を眺めながら、鼻の長かった四五日前の事を憶おもい出して、「今はむげにいやしくなりさがれる人の、さかえたる昔をしのぶがごとく」ふさぎこんでしまうのである。――内供には、遺憾いかんながらこの問に答を与える明が欠けていた。――人間の心には互に矛盾むじゅんした二つの感情がある。勿論、誰でも他人の不幸に同情しない者はない。所がその人がその不幸を、どうにかして切りぬける事が出来ると、今度はこっちで何となく物足りないような心もちがする。少し誇張して云えば、もう一度その人を、同じ不幸に陥おとしいれて見たいような気にさえなる。そうしていつの間にか、消極的ではあるが、ある敵意をその人に対して抱くような事になる。――内供が、理由を知らないながらも、何となく不快に思ったのは、池の尾の僧俗の態度に、この傍観者の利己主義をそれとなく感づいたからにほかならない。そこで内供は日毎に機嫌きげんが悪くなった。二言目には、誰でも意地悪く叱しかりつける。しまいには鼻の療治りょうじをしたあの弟子の僧でさえ、「内供は法慳貪ほうけんどんの罪を受けられるぞ」と陰口をきくほどになった。殊に内供を怒らせたのは、例の悪戯いたずらな中童子である。ある日、けたたましく犬の吠ほえる声がするので、内供が何気なく外へ出て見ると、中童子は、二尺ばかりの木の片きれをふりまわして、毛の長い、痩やせた尨犬むくいぬを逐おいまわしている。それもただ、逐いまわしているのではない。「鼻を打たれまい。それ、鼻を打たれまい」と囃はやしながら、逐いまわしているのである。内供は、中童子の手からその木の片をひったくって、したたかその顔を打った。木の片は以前の鼻持上はなもたげの木だったのである。内供はなまじいに、鼻の短くなったのが、かえって恨うらめしくなった。するとある夜の事である。日が暮れてから急に風が出たと見えて、塔の風鐸ふうたくの鳴る音が、うるさいほど枕に通かよって来た。その上、寒さもめっきり加わったので、老年の内供は寝つこうとしても寝つかれない。そこで床の中でまじまじしていると、ふと鼻がいつになく、むず痒かゆいのに気がついた。手をあてて見ると少し水気すいきが来たようにむくんでいる。どうやらそこだけ、熱さえもあるらしい。――無理に短うしたで、病が起ったのかも知れぬ。内供は、仏前に香花こうげを供そなえるような恭うやうやしい手つきで、鼻を抑えながら、こう呟いた。翌朝、内供がいつものように早く眼をさまして見ると、寺内の銀杏いちょうや橡とちが一晩の中に葉を落したので、庭は黄金きんを敷いたように明るい。塔の屋根には霜が下りているせいであろう。まだうすい朝日に、九輪くりんがまばゆく光っている。禅智内供は、蔀しとみを上げた縁に立って、深く息をすいこんだ。ほとんど、忘れようとしていたある感覚が、再び内供に帰って来たのはこの時である。内供は慌てて鼻へ手をやった。手にさわるものは、昨夜ゆうべの短い鼻ではない。上唇の上から顋あごの下まで、五六寸あまりもぶら下っている、昔の長い鼻である。内供は鼻が一夜の中に、また元の通り長くなったのを知った。そうしてそれと同時に、鼻が短くなった時と同じような、はればれした心もちが、どこからともなく帰って来るのを感じた。――こうなれば、もう誰も哂わらうものはないにちがいない。内供は心の中でこう自分に囁ささやいた。長い鼻をあけ方の秋風にぶらつかせながら。","雨ニモマケズ風ニモマケズ雪ニモ夏ノ暑サニモマケヌ丈夫ナカラダヲモチ慾ハナク決シテ瞋ラズイツモシヅカニワラッテヰル一日ニ玄米四合ト味噌ト少シノ野菜ヲタベアラユルコトヲジブンヲカンジョウニ入レズニヨクミキキシワカリソシテワスレズ野原ノ松ノ林ノ※(「「蔭」の「陰のつくり」に代えて「人がしら／髟のへん」、第4水準2-86-78)ノ小サナ萓ブキノ小屋ニヰテ東ニ病気ノコドモアレバ行ッテ看病シテヤリ西ニツカレタ母アレバ行ッテソノ稲ノ朿ヲ［＃「朿ヲ」はママ］負ヒ南ニ死ニサウナ人アレバ行ッテコハガラナクテモイヽトイヒ北ニケンクヮヤソショウガアレバツマラナイカラヤメロトイヒヒドリノトキハナミダヲナガシサムサノナツハオロオロアルキミンナニデクノボートヨバレホメラレモセズクニモサレズサウイフモノニワタシハナリタイ南無無辺行菩薩南無上行菩薩南無多宝如来南無妙法蓮華経南無釈迦牟尼仏南無浄行菩薩南無安立行菩薩"};
    void Update()
    {
        MeshRenderer hanaMeshRenderer = hana.GetComponent<MeshRenderer>();
        MeshRenderer amenimoMeshRenderer = amenimo.GetComponent<MeshRenderer>();

         if (hanaMeshRenderer.isVisible)
        {
            TextSort(0);
        } else if(amenimoMeshRenderer.isVisible)
        {
            TextSort(1);
        }
    }
    private void TextSort(int id)
    {
        string TextDatas = bookData[id];
        int NumberPages = 20;
        int len = TextDatas.Length;
        NumberTextSorte = len / NumberPages;

        string[] pageData = new string[NumberPages+1];
        for(int i = 0; i < NumberPages; i++)
        {
            if(i != NumberPages-1)
            {
                pageData[i] = TextDatas.Substring(i * NumberTextSorte , NumberTextSorte);
            } else
            {
                pageData[i] = TextDatas.Substring(i * NumberTextSorte , len - i * NumberTextSorte );
            }
        }

        for(int i = 25; i < NumberTextSorte + NumberTextSorte / 25  ; i+= 26)
        {
            for(int j = 0; j < NumberPages; j++)
            {
                pageData[j] = pageData[j].Insert(i, "\n");
            }
        }

        Page1TargetText.text = pageData[0];
        Page2TargetText.text = pageData[1];
        Page3TargetText.text = pageData[2];
        Page4TargetText.text = pageData[3];
        Page5TargetText.text = pageData[4];
        Page6TargetText.text = pageData[5];
        Page7TargetText.text = pageData[6];
        Page8TargetText.text = pageData[7];
        Page9TargetText.text = pageData[8];
        Page10TargetText.text = pageData[9];
        Page11TargetText.text = pageData[10];
        Page12TargetText.text = pageData[11];
        Page13TargetText.text = pageData[12];
        Page14TargetText.text = pageData[13];
        Page15TargetText.text = pageData[14];
        Page16TargetText.text = pageData[15];
        Page17TargetText.text = pageData[16];
        Page18TargetText.text = pageData[17];
        Page19TargetText.text = pageData[18];
        Page20TargetText.text = pageData[19];
        Page21TargetText.text = pageData[0];
        Page22TargetText.text = pageData[1];
        Page23TargetText.text = pageData[2];
        Page24TargetText.text = pageData[3];
        Page25TargetText.text = pageData[4];
        Page26TargetText.text = pageData[5];
        Page27TargetText.text = pageData[6];
        Page28TargetText.text = pageData[7];
        Page29TargetText.text = pageData[8];
        Page30TargetText.text = pageData[9];
        Page31TargetText.text = pageData[10];
        Page32TargetText.text = pageData[11];
        Page33TargetText.text = pageData[12];
        Page34TargetText.text = pageData[13];
        Page35TargetText.text = pageData[14];
        Page36TargetText.text = pageData[15];
        Page37TargetText.text = pageData[16];
        Page38TargetText.text = pageData[17];
        Page39TargetText.text = pageData[18];
        Page40TargetText.text = pageData[19];
        Page41TargetText.text = pageData[0];
        Page42TargetText.text = pageData[1];
        Page43TargetText.text = pageData[2];
        Page44TargetText.text = pageData[3];
        Page45TargetText.text = pageData[4];
        Page46TargetText.text = pageData[5];
        Page47TargetText.text = pageData[6];
        Page48TargetText.text = pageData[7];
        Page49TargetText.text = pageData[8];
        Page50TargetText.text = pageData[9];
        Page51TargetText.text = pageData[10];
        Page52TargetText.text = pageData[11];
        Page53TargetText.text = pageData[12];
        Page54TargetText.text = pageData[13];
        Page55TargetText.text = pageData[14];
        Page56TargetText.text = pageData[15];
        Page57TargetText.text = pageData[16];
        Page58TargetText.text = pageData[17];
        Page59TargetText.text = pageData[18];
        Page60TargetText.text = pageData[19];
    }
}
